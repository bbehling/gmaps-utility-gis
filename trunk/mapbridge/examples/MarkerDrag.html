<!DOCTYPE html "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Maker Simple</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <script type="text/javascript" src="../src/mapbridge.js?key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxSPW5CJgpdgO_s4yyMovOaVh_KvvhSfpvagV18eOyDWu7VytS6Bi1CWxw">
        </script>
        <script type="text/javascript">
            
            var map;
            
            function init() {
              MapBridge.createMap(document.getElementById('map_canvas'), function(mp) {
                map = mp;
                map.addEventListener(MapEvent.C('MAP_READY'), onMapReady);//'mapevent_mapready'
              });
            }
            
            function onMapReady(e) {
              map.setCenter(new LatLng(40.736072, -73.992062), 14, MapType.C('NORMAL_MAP_TYPE'));
              var marker = new Marker(map.getCenter(), new MarkerOptions({
                draggable: true
              }));
              marker.addEventListener('mapevent_dragstart', function(e) {
                map.closeInfoWindow();
              });
              
              marker.addEventListener('mapevent_dragend', function(e) {
                marker.openInfoWindow(new InfoWindowOptions({
                  content: "Just bouncing along..."
                }));
              });
              map.addOverlay(marker);
              
            }
        </script>
    </head>
    <body onload="init()">
        <div id="map_canvas" style="width:100%;height:100%">
        </div>
    </body>
</html>
