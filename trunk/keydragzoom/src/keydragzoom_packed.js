(function(){var F=null;var E=null;var m=null;var n=null;var d=null;var B=null;var z=null;var l=null;var g=null;var e=null;var p=null;var i=false;var s=false;var b=null;var t=null;var r=null;var C,A;var D=null;function j(H){var G;var I={};if(document.defaultView&&document.defaultView.getComputedStyle){G=H.ownerDocument.defaultView.getComputedStyle(H,"");if(G){I.top=parseInt(G.borderTopWidth||0,10);I.bottom=parseInt(G.borderBottomWidth||0,10);I.left=parseInt(G.borderLeftWidth||0,10);I.right=parseInt(G.borderRightWidth||0,10);return I}}else{if(document.documentElement.currentStyle){if(H.currentStyle){I.top=parseInt(H.currentStyle["border-top-width"]||0,10);I.bottom=parseInt(H.currentStyle["border-bottom-width"]||0,10);I.left=parseInt(H.currentStyle["border-left-width"]||0,10);I.right=parseInt(H.currentStyle["border-right-width"]||0,10);return I}}}I.top=parseInt(H.style["border-top-width"],10)||0;I.bottom=parseInt(H.style["border-bottom-width"],10)||0;I.left=parseInt(H.style["border-left-width"],10)||0;I.right=parseInt(H.style["border-right-width"],10)||0;return I}function x(G){var I=0,H=0;G=G||window.event;if(typeof G.pageX!=="undefined"){I=G.pageX;H=G.pageY}else{if(typeof G.clientX!=="undefined"){I=G.clientX+(typeof document.documentElement.scrollLeft!=="undefined"?document.documentElement.scrollLeft:document.body.scrollLeft);H=G.clientY+(typeof document.documentElement.scrollTop!=="undefined"?document.documentElement.scrollTop:document.body.scrollTop)}}return{left:I,top:H}}function y(H){var J=H.offsetLeft;var I=H.offsetTop;var G=H.offsetParent;while(G!==null){if(G!==document.body&&G!==document.documentElement){J-=G.scrollLeft;I-=G.scrollTop}J+=G.offsetLeft;I+=G.offsetTop;G=G.offsetParent}return{left:J,top:I}}function o(){if(D&&b&&t){var H=D.fromLatLngToContainerPixel(b);var G=D.fromLatLngToContainerPixel(t);e.style.left=Math.min(H.x,G.x)+"px";e.style.top=Math.min(H.y,G.y)+"px";e.style.width=Math.abs(H.x-G.x)+"px";e.style.height=Math.abs(H.y-G.y)+"px";e.style.display="block"}}function h(){if(D&&b&&t){var G=new GLatLng(Math.min(b.lat(),t.lat()),Math.min(b.lng(),t.lng()));var H=new GLatLng(Math.max(b.lat(),t.lat()),Math.max(b.lng(),t.lng()));var J=new GLatLngBounds(G,H);var I=D.getBoundsZoomLevel(J);D.setCenter(J.getCenter(),I)}}function u(H){var G;H=H||window.event;G=(H.shiftKey&&F==="shift")||(H.altKey&&F==="alt")||(H.ctrlKey&&F==="ctrl");if(!G){switch(H.keyCode){case 16:if(F==="shift"){G=true}break;case 17:if(F==="ctrl"){G=true}break;case 18:if(F==="alt"){G=true}break}}return G}function c(H){if(D&&!i&&u(H)){i=true;var G=D.getSize();p.style.left=0+"px";p.style.top=0+"px";p.style.width=G.width-(l.left+l.right)+"px";p.style.height=G.height-(l.top+l.bottom)+"px";p.style.display="block";C=parseInt(p.style.width,10)-(g.left+g.right);A=parseInt(p.style.height,10)-(g.top+g.bottom)}}function k(G){if(D&&i){b=t=null;r=y(D.getContainer());s=true}}function q(I){if(s){var G=x(I);var H=new GPoint();H.x=G.left-r.left-l.left;H.y=G.top-r.top-l.top;H.x=Math.min(H.x,C);H.y=Math.min(H.y,A);H.x=Math.max(H.x,0);H.y=Math.max(H.y,0);var J=D.fromContainerPixelToLatLng(H);if(!b){b=J}t=J;o()}}function f(G){if(s){h();s=false}e.style.display="none"}function a(G){if(D&&i){i=false;s=false;e.style.display="none";p.style.display="none"}}function w(I,H){if(I&&H){for(var G in H){if(H.hasOwnProperty(G)){I[G]=H[G]}}}return I}function v(H,G){if(typeof G!=="undefined"){H.style.opacity=G}if(typeof H.style.opacity!=="undefined"){H.style.filter="alpha(opacity="+(H.style.opacity*100)+")"}}GMap2.prototype.enableKeyDragZoom=function(G){D=this;G=G||{};F=G.key||"shift";F=F.toLowerCase();E=G.callbacks||{};l=j(D.getContainer());p=document.createElement("div");p.onselectstart=function(){return false};w(p.style,{backgroundColor:"white",opacity:0,cursor:"crosshair"});w(p.style,G.paneStyle);w(p.style,{position:"absolute",overflow:"hidden",zIndex:101,display:"none"});v(p);if(p.style.backgroundColor==="transparent"){p.style.backgroundColor="white";v(p,0)}D.getContainer().appendChild(p);e=document.createElement("div");w(e.style,{border:"thin solid #FF0000"});w(e.style,G.boxStyle);w(e.style,{position:"absolute",display:"none"});v(e);D.getContainer().appendChild(e);g=j(e);n=GEvent.addDomListener(document,"keydown",c);m=GEvent.addDomListener(document,"keyup",a);d=GEvent.addDomListener(p,"mousedown",k);B=GEvent.addDomListener(document,"mousemove",q);z=GEvent.addDomListener(document,"mouseup",f)};GMap2.prototype.disableKeyDragZoom=function(){if(D){GEvent.removeListener(d);GEvent.removeListener(B);GEvent.removeListener(z);GEvent.removeListener(m);GEvent.removeListener(n);D.getContainer().removeChild(e);D.getContainer().removeChild(p);D=null}};GMap2.prototype.keyDragZoomEnabled=function(){return D!==null}})();