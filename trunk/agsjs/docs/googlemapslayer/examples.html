<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <title>Google Maps Layer for ArcGIS JavaScript API: Examples</title>
        <link rel="stylesheet" type="text/css" href="http://code.google.com/css/codesite.css"/>
        <link rel="stylesheet" type="text/css" href="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/util/docs/template/local_extensions.css"/>
        <script type="text/javascript" src="http://code.google.com/js/prettify.js">
        </script>
    </head>
    <body onload="prettyPrint()">
        <div>
            <a name="Top"></a>
            <h1><a></a>Google Maps Layer for ArcGIS JavaScript API: Examples</h1>
            <p>
                <b><a href="reference.html">Class References</a> |  <a href="../../examples/gmapslayer.html">Live Example </a></b>
            </p>
        </div>
        <div>
            <h2><a name="About"></a>About</h2>
            <p>
                This script lets you add google maps as a layer in ArcGIS Server JavaScript API. It uses Google API to access tiles, thus it conforms to API terms of use.
                However, if apps are to deployed in Intranet, a Google Maps Premium license is still needed, which is separate from API TOU.
            </p>
            <p>
                The typical use is adding Google Maps as reference layer in an application that built on top of ArcGIS Server JavaScript API and dojo framework. 
                In some cases, Google provides more up-to-date aerial images, and also labels local business, which is not readily available from other resoures.
            </p>
            <p>
                Please note, there is NO need to load Google API in the header. The Google API will be loaded dynamically when 
                the first Google Map is set to visible. This approach will save API load count 
                for Google Maps Enterprise clients because you do not have to load the API unless you use it.
            </p>
        </div>
        <div>
            <h2><a name="HowTo"></a>Include Scripts</h2>
            <p>
            The widget uses 
            <code>
                agsjs
            </code>
            as namespace. 
            </code>Put the downloaded 
            <code>
                agsjs
            </code>
            folder under your application. 
            underneath the agsjs folder, should have file named TOC.js and a sub folder css with file TOC.css. as in <img src="files.png"/>In your HTML page, inside the section to define djConfig: (make sure the path to folder agsjs is correct)<pre class="prettyprint">
             var djConfig = {
              parseOnLoad: true,
              baseUrl: './', 
              modulePaths: {
                'agsjs': '../path/to/agsjs'
              }
            };</pre>
        </p>
        <p>
            Then in the require section, add 
            <code>
                dojo.require("agsjs.layers.GoogleMapsLayer");
            </code>
            <pre class="prettyprint">
             ...
            dojo.require("esri.map");
            ...
            dojo.require("agsjs.layers.GoogleMapsLayer");
              </pre>
        </p>
        </div>
        <div>
            <h2>Add a Google Maps Layer</h2>
            <p>
                After the script is loaded, you can simply treat Google Maps as other layer in 
                your application. 
            </p>
            <pre class="prettyprint">
       map = new esri.Map("map", {
         extent: initExtent,
         logo: false
       });
       ... 
       var gMapLayer = new agsjs.layers.GoogleMapsLayer({visible:false, id:&#39;googlemaps&#39;});
       map.addLayer(gMapLayer);
        </pre>
            <p>
                That&#39;s it! You should only need one instance of the layer, then use 
                <code>
                    setMapTypeId(mapTypeId)
                </code>
                to switch between Google Street Map, Satellite, Hybrid and Terrain.
            </p>
            <p>
                <a href="../../examples/gmapslayer.html">View example </a>
            </p>
        </div>
       
        <script type="text/javascript">
            
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-3946449-12']);
            _gaq.push(['_trackPageview']);
            
            (function() {
              var ga = document.createElement('script');
              ga.type = 'text/javascript';
              ga.async = true;
              ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(ga, s);
            })();
            
        </script>
    </body>
</html>
