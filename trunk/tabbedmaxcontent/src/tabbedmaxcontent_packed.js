(function(){var e={tabBar:{background:"#F4F4F4 none repeat scroll 0 0",borderBottom:"1px solid #B0B0B0",padding:"6px 8px 4px",marginRight:"13px",whiteSpace:"nowrap",verticalAlign:"bottom"},tabLeft:{},tabRight:{},tabOn:{background:"#FFFFFF none repeat scroll 0 0",padding:"6px 8px 4px",borderTop:"1px solid #B0B0B0",borderLeft:"1px solid #B0B0B0",borderRight:"1px solid #B0B0B0",borderBottom:"2px solid #FFFFFF",color:"#000000",textDecoration:"none",fontWeight:"bold"},tabOff:{background:"#F4F4F4 none repeat scroll 0 0",padding:"6px 8px 4px",color:"#0000FF",border:"none",textDecoration:"underline",fontWeight:"normal"},content:{borderStyle:"none solid solid solid",borderWidth:"1px",borderColor:"#B0B0B0",borderTop:"none",overflow:"auto"},summary:{overflow:"auto",marginBottom:"5px"}};function b(h,g){if(h&&g){for(var f in g){if(g.hasOwnProperty(f)){if(h[f]&&typeof g[f]==="object"){h[f]=b(h[f],g[f])}else{h[f]=g[f]}}}}return h}function a(f,g,k,i,h){var j=k;if(!k||(k&&typeof k==="string")){j=document.createElement(f);j.innerHTML=k||""}if(i){b(j.style,i)}if(g){b(j,g)}if(h){h.appendChild(j)}return j}function c(j,i){var g=0;var f=0;var h=j;while(h&&h!==i){g+=h.offsetLeft;f+=h.offsetTop;h=h.offsetParent}return{left:g,top:f}}function d(f){this.map_=f;this.infoWindow_=f.getInfoWindow();GEvent.bind(this.infoWindow_,"maximizeclick",this,this.setupTabs_);GEvent.bind(this.infoWindow_,"restoreclick",this,this.clearTabs_);GEvent.bind(this.infoWindow_,"maximizeend",this,this.checkResize);this.style_={};this.maxNode_=null;this.summaryNode_=null;this.contentsNode_=null;this.navNodes_=[];this.contentNodes_=[]}d.prototype.initialize_=function(h,m,f){this.clearTabs_();this.navNodes_=[];this.contentNodes_=[];if(this.maxNode_){this.maxNode_.innerHTML=""}this.maxNode_=a("div",{id:"maxcontent"});f=f||{};var n=f.selectedTab||0;this.style_=b({},e);this.style_=b(this.style_,f.style);this.summaryNode_=a("div",null,h,this.style_.summary,this.maxNode_);var k=a("div",null,null,this.style_.tabBar,this.maxNode_);this.contentsNode_=a("div",null,null,null,this.maxNode_);var l=false;if(m&&m.length){a("span",null,null,this.style_.tabLeft,k);for(var g=0,j=m.length;g<j;g++){l=false;if(g===n||m[g].name===n){l=true}this.navNodes_.push(a("span",null,m[g].name,l?this.style_.tabOn:this.style_.tabOff,k));var o=a("div",null,m[g].contentElem,this.style_.content,this.contentsNode_);o.style.display=l?"block":"none";o.name=m[g].name;this.contentNodes_.push(o)}a("span",null,null,this.style_.tabRight,k)}};d.prototype.selectTab=function(h){for(var g=0,f=this.navNodes_.length;g<f;g++){if(g===h||this.contentNodes_[g].name===h){b(this.navNodes_[g].style,this.style_.tabOn);this.contentNodes_[g].style.display="block";GEvent.trigger(this,"selecttab",h)}else{b(this.navNodes_[g].style,this.style_.tabOff);this.contentNodes_[g].style.display="none"}}};d.prototype.getTabContainer=function(h){for(var g=0,f=this.contentNodes_.length;g<f;g++){if(g===h||this.contentNodes_[g].name===h){return this.contentNodes_[g]}}};d.prototype.checkResize=function(){var f=this.infoWindow_.getContentContainers()[0];var h=this.contentsNode_;var g=this.summaryNode_;var i=this.contentNodes_;setTimeout(function(){var l=c(h,f);for(var k=0,j=i.length;k<j;k++){i[k].style.width=f.style.width;i[k].style.height=(parseInt(f.style.height,10)-l.top)+"px"}},0)};d.prototype.setupTabs_=function(){for(var g=0,f=this.navNodes_.length;g<f;g++){GEvent.addDomListener(this.navNodes_[g],"click",GEvent.callback(this,this.selectTab,g))}};d.prototype.clearTabs_=function(){if(this.maxNode_){GEvent.clearNode(this.maxNode_)}};GMap2.prototype.openInfoWindowMaxTabs=function(l,k,j,h,g){var f=this.getInfoWindowMaxContent();var i=g||{};f.initialize_(j,h,i);i.maxContent=f.maxNode_;if(i.style){delete i.style}if(i.selectedTab){delete i.selectedTab}this.openInfoWindow(l,k,i)};GMap2.prototype.openInfoWindowMaxTabsHtml=function(j,i,g,h,f){this.openInfoWindowMaxTabs(j,a("div",null,i),a("div",null,g),h,f)};GMap2.prototype.getInfoWindowMaxContent=function(){this.maxContent_=this.maxContent_||new d(this);return this.maxContent_};GMarker.prototype.openInfoWindowMaxTabsHtml=function(j,i,g,h,f){j.openInfoWindowMaxTabsHtml(this.getLatLng(),i,g,h,f)};GMarker.prototype.openInfoWindowMaxTabs=function(h,j,i,g,f){h.openInfoWindowMaxTabs(this.getLatLng(),j,i,g,f)}})();