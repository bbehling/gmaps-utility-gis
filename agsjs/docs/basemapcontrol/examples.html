<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <title>BasemapControl Widget for ArcGIS JavaScript API: Examples</title>
        <link rel="stylesheet" type="text/css" href="http://code.google.com/css/codesite.css"/>
        <link rel="stylesheet" type="text/css" href="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/util/docs/template/local_extensions.css"/>
        <script type="text/javascript" src="http://code.google.com/js/prettify.js">
        </script>
    </head>
    <body onload="prettyPrint()">
        <div>
            <a name="Top"></a>
            <h1><a></a>BasemapControl Widget for ArcGIS JavaScript API: Examples</h1>
            <p>
                <b><a href="reference.html">Class References</a> | <a href="../../examples/basemaps.html">Live Example </a></b>
            </p>
        </div>
        <div>
            <h2><a name="About"></a>About</h2>
            <p>
                This library is a Basemap widget for ArcGIS Server JavaScript API. 
                It provides an UI control that can be used to switch base maps. 
            </p>
            <p>
                &nbsp;</p>
            <p>
                Features:
                <ul>
                    <li>
                        Group different base maps into different tabs.</li>
                    <li>
                        Each group can have reference layers which can be turned on/off.</li>
                    <li>
                        Each group can either have a set of active layers as base map, or have a slider 
                        to provide transitional effects when switching base maps, ideal for diplay 
                        historical aerial images through years.
                    </li>
                    <li>
                        Support Google Maps and Bing maps. For Google maps, support styled maps, which 
                        are customized map with different hue,saturation etc.</li>
                </ul>
            </p>
            </p>
        </div>
        <div>
            <h2><a name="HowTo"></a>Include Scriptss</h2>
            <p>
            The widget uses 
            <code>
                agsjs
            </code>
            as namespace. 
            </code>Put the downloaded 
            <code>
                agsjs
            </code>
           folder under your application. 
            In your HTML page, inside the section to define djConfig: (make sure the path to folder agsjs is correct)<pre class="prettyprint">
             var djConfig = {
              parseOnLoad: true,
              baseUrl: './', 
              modulePaths: {
                'agsjs': '../path/to/agsjs'
              }
            };</pre>
        </p>
        <p>
            Then in the require section, add 
             <code>
               dojo.require("agsjs.dijit.BasemapControl");
            </code>
            <pre class="prettyprint">
             ...
            dojo.require("esri.map");
            ...
            dojo.require("agsjs.dijit.BasemapControl");
              </pre>
        </p>
        </div>
        <div>
            <h2>Add a BasemapControl widget</h2>
            <p>
                After the script is loaded, in the initilization code, <pre class="prettyprint">
              var basemaps = [{
                title: 'BaseMaps',
                layers: [{
                  name: 'Street',
                  url: 'http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer'
                }, {
                  name: 'Topo',
                  url: 'http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer',
                  visible: true
                }, {
                  name: 'Gray',
                  url: 'http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer'
                 
                },{
                  name: 'Open Street',
                  type: 'OpenStreetMap'
                }]
              }, {..}];

           var basemapControl = new agsjs.dijit.BasemapControl({
            basemaps: basemaps, 
            map: map 
            }, &#39;basemapControlDiv&#39;);
             basemapControl.startup();
        </pre>
            </p>
        </div>
                <div>
                    <h2>Configuration</h2>
            <p>
                The widget takes config JavaScript object literal, and a div as container.&nbsp; 
                The config object must have &quot;map&quot; instance, and an array of of base map configs. <pre class="prettyprint">
              {
                basemaps: [
                 { 
                 // base map group1
                 },
                 { 
                 // base map group 2
                 
                 }
                ],
                map: map
              }, 'basemapControl')
        </pre>
             <p>Each base map group has a  title, which will be displayed as tab heading, and an 
                 array of layers. If there is a slider property, all non-reference layer will be 
                 displayed along a slider bar to switched with transparency transitions, 
                 typically for historical images tile layers. Otherwise, each layer will be 
                 displayed as radio button. <pre class="prettyprint">
               { 

                 title: &quot;TabTitle&quot;,
                 slider: {
                  intermediateChanges: true
                 },                 
                 layers:[
                 { 
                 // layer 1
                 },{
                 // layer2
                 }
                ]
              }
        </pre>
            </p>
            <p>Each layer have a name, type, and additional information based on type. The default type is <code>ArcGISTiledMapServiceLayer</code>, which requires an <code>url</code>. This config is similar to <code>esri.dijit.BasemapLayer</code>'s constructor, 
            but support more types including Google maps. 
                It uses visibile property to set default basemap layer. Also, any additional property will be passed into constructor. If more than one layer 
                have same name, they will be on/off together(like a set). If a layer has <code>isReference</code> property, it will be displayed as checkbox to turn on/off, typically for label/references over imagery.<p>Set bingMapsKey in the first BingMaps 
                        type (<code>BingMapsRoad,BingMapsAerial,BingMapsHybrid</code>). For Google maps, supports 
                       <code> GoogleMapsRoadMap|GoogleMapsSatellite|GoogleMapsHybrid</code>. You can supply <code>styles</code> property to create customized style for Google maps<pre class="prettyprint">
      [{
                  name: 'Road',
                  type: 'GoogleMapsRoadMap',
                  visible: true
                }, {
                  name: 'Satellite',
                  type: 'GoogleMapsSatellite'
                }, {
                  name: 'Hybrid',
                  type: 'GoogleMapsHybrid'
                }, {
                  name: 'Night',
                  type: 'GoogleMapsRoadMap',
                  styles: agsjs.layers.GoogleMapsLayer.MAP_STYLE_NIGHT
                }, {
                  name: 'Gray',
                  type: 'GoogleMapsRoadMap',
                  styles: agsjs.layers.GoogleMapsLayer.MAP_STYLE_GRAY
                }]   </pre>
            </p>
        </div>
        <p>
            That&#39;s it! <a href="../../examples/toc.html">View example </a>. 
        </p>
    </div>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <p>
    </p>
    <script type="text/javascript">
        
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-3946449-12']);
        _gaq.push(['_trackPageview']);
        
        (function() {
          var ga = document.createElement('script');
          ga.type = 'text/javascript';
          ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
        })();
    </script>
    </body>
</html>
